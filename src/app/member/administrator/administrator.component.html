<h1>Welcome back {{name}}</h1>

<div class="menu">
    <p (click)="counts()">Total count</p>
    <p (click)="past()">Solved problems</p>
    <p (click)="present()">Present problems</p>
    <p (click)="logout()">Logout</p>
</div>

<div>
    <ng-container *ngIf=count_b>
        <div>
          <p>Count of all systems</p>
            <div style="display: flex;">

              <p class="hilight">Total computer are <br><strong class="hiNum">{{total_count}}</strong></p>
              <p class="hilight">Working computers are <br><strong class="hiNum">{{total_working}}</strong></p>
              <p class="hilight">Not working computers are <br><strong class="hiNum">{{total_not}}</strong></p>
            </div><br>
            <table>
                <thead>
                    <tr>
                        <th>
                            <p>Lab</p>
                        </th>
                        <th>
                            <p>Incharge</p>
                        </th>
                        <th>
                            <p>Technician</p>
                        </th>
                        <th>
                            <p>Total count</p>
                        </th>
                        <th>
                            <p>No.of working</p>
                        </th>
                        <th>
                            <p>Under repair</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let lab of labs">
                        <td>
                            <p>{{lab.name}}</p>
                        </td>
                        <td>
                            <p>{{lab.incharge}}</p>
                        </td>
                        <td>
                            <p>{{lab.technician}}</p>
                        </td>
                        <td>
                            <p>{{lab.count}}</p>
                        </td>
                        <td>
                            <p>{{lab.working}}</p>
                        </td>
                        <td>
                            <p>{{lab.not}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </ng-container>
    <ng-container *ngIf=past_b>
        <div>
            <p>List of systems past problems</p>
            <table>
                <thead>
                    <th>
                        <p>Token ID</p>
                    </th>
                    <th>
                        <p>System</p>
                    </th>
                    <th>
                        <p>Lab</p>
                    </th>
                    <th>
                        <p>Technicin</p>
                    </th>
                    <th>
                        <p>Problem</p>
                    </th>
                    <th>
                        <p>Reported Date</p>
                    </th>
                    <th>
                        <p>Solved Date</p>
                    </th>
                </thead>
                <tbody>
                    <tr *ngFor="let pro of sol_pro | paginate : {itemsPerPage : countPerPage, currentPage : cur_solved_page, totalItems : tot_solved}">
                        <td>
                            <p>{{pro.tk}}</p>
                        </td>
                        <td>
                            <p>{{pro.system}}</p>
                        </td>
                        <td>
                            <p>{{pro.lab}}</p>
                        </td>
                        <td>
                            <p>{{pro.assigned_to}}</p>
                        </td>
                        <td>
                            <p>{{pro.problem}}</p>
                        </td>
                        <td>
                            <p>{{pro.date}}</p>
                        </td>
                        <td>
                            <p>{{pro.solved}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="pager">
                <pagination-controls (pageChange)="pastSer($event)"></pagination-controls>
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf=present_b>
        <div>
            <p>List of systems present problems</p>
            <table>
                <thead>
                    <th>
                        <p>Token ID</p>
                    </th>
                    <th>
                        <p>System</p>
                    </th>
                    <th>
                        <p>Lab</p>
                    </th>
                    <th>
                        <p>Technicin</p>
                    </th>
                    <th>
                        <p>Problem</p>
                    </th>
                    <th>
                        <p>Reported Date</p>
                    </th>
                    <th>
                        <p>Status</p>
                    </th>
                </thead>
                <tbody>
                    <tr *ngFor="let pro of pre_pro | paginate : {itemsPerPage : countPerPage, currentPage : cur_present_page, totalItems : tot_present}">
                        <td>
                            <p>{{pro.tk}}</p>
                        </td>
                        <td>
                            <p>{{pro.system}}</p>
                        </td>
                        <td>
                            <p>{{pro.lab}}</p>
                        </td>
                        <td>
                            <p>{{pro.assigned_to}}</p>
                        </td>
                        <td>
                            <p>{{pro.problem}}</p>
                        </td>
                        <td>
                            <p>{{pro.date}}</p>
                        </td>
                        <td>
                            <p>{{pro.status}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="pager">
                <pagination-controls (pageChange)="presentSer($event)"></pagination-controls>
            </div>
        </div>
    </ng-container>
</div>
